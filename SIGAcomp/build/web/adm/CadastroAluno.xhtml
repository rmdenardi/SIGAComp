<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../publico/Templateaplicacao.xhtml">

            <ui:define name="corpo">



                <p:growl id="mensagem"/>
                <p:tabView style="border: none">
                    <p:tab title="Cadastro de Aluno">  
                        <h:form id="formaluno">
                            <h:panelGrid id="painel" columns="2" cellpadding="5">
                                <p:outputLabel for="nome" value="Nome:"/>
                                <p:inputText   id="nome" value="#{alunoBean.aluno.nome}" required="true" 
                                               requiredMessage="Nome é necessário" validatorMessage="Nome deve ter no mínimo 3
                                               caracteres">
                                    <f:validateLength minimum="3"/>
                                </p:inputText>

                                <p:outputLabel value="Data nasc:" for="data"/>
                                <p:inputMask mask="99/99/9999" value="#{alunoBean.aluno.data}" id="data" required="true"
                                             requiredMessage="Data de nascimento é necessária">
                                    <f:convertDateTime dateStyle="default" timeZone="America/Fortaleza"/>
                                </p:inputMask>

                                <p:outputLabel for="phone" value="Telefone:" />
                                <p:inputMask id="phone" value="#{alunoBean.aluno.telefone}" required="true"
                                             mask="(99) 99999-9999"
                                             requiredMessage="Telefone é necessário"/>

                                <p:outputLabel for="email" value="Email:" />
                                <p:inputText type="email" id="email" value="#{alunoBean.aluno.email}" required="true" placeholder="usuario@gmail.com"
                                             validatorMessage="Email inválido" requiredMessage="Email é necessário" maxlength="60">
                                    <f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+" />
                                </p:inputText>

                                <p:outputLabel for="naturalidade" value="Naturalidade:"/>
                                <p:inputTextarea id="naturalidade" value="#{alunoBean.aluno.naturalidade}" required="true" maxlength="45" rows="3"
                                                 requiredMessage="Naturalidade é necessária" validatorMessage="Naturalidade deve ter no
                                                 mínimo 3 caracteres">
                                    <f:validateLength minimum="3"/>
                                </p:inputTextarea>

                                <p:outputLabel for="endereco" value="Endereço: " />
                                <p:inputTextarea id="endereco" value="#{alunoBean.aluno.endereco}" required="true"
                                                 requiredMessage="Endereço é necessário" maxlength="80" rows="4"
                                                 validatorMessage="Endereço deve ter no mínimo 3 caracteres">
                                    <f:validateLength minimum="3"/> 
                                </p:inputTextarea>

                                <p:outputLabel for="turma" value="Turma:" />
                                <p:selectOneMenu id="turma" filter="true" value="#{alunoBean.aluno.turma_id}" required="true"
                                                 requiredMessage="Turma é necessária">
                                    <f:selectItems value="#{turmaBean.listarturmas}" var="turma"
                                                   itemLabel="#{turma.nome}"
                                                   itemValue="#{turma.id}"/>
                                </p:selectOneMenu>

                                <p:commandButton value="Salvar" 
                                                 actionListener="#{alunoBean.novo()}" update="formaluno :mensagem"/>
                                <p:commandButton value="Limpar" type="reset"/>


                            </h:panelGrid>

                        </h:form>
                    </p:tab>        
                </p:tabView>      

            </ui:define>



        </ui:composition>

    </body>
</html>
